import './polyfills.server.mjs';
import{b as U,d as B,h as A,r as L}from"./chunk-OX7WKNXY.mjs";import{a as z,l as F}from"./chunk-3ELKB3XA.mjs";import{o as T,s as W}from"./chunk-YRLJNLML.mjs";import{Aa as a,Ba as E,M as O,Na as C,Qa as f,R as k,Ta as t,Ua as i,Va as c,W as I,Wa as u,Za as P,_a as p,da as m,db as l,ea as g,eb as x,hb as _,ib as h,jb as b,k as S,ob as V,v as w,wa as M}from"./chunk-B3TUJBNU.mjs";import{a as v}from"./chunk-5XUXGTUW.mjs";var y=class o{constructor(r){this._httpClient=r}apiUrl="http://localhost:5048/api";login(r){let e=`${this.apiUrl}/users/email/${r}`;return this._httpClient.get(e).pipe(w(this.handleError))}getallusers(){return this._httpClient.get(`${this.apiUrl}/users/`).pipe(w(this.handleError))}handleError(r){let e="An unknown error occurred!";return r.error instanceof ErrorEvent?e=`Error: ${r.error.message}`:e=`Error Code: ${r.status}
Message: ${r.message}`,console.error("AuthService Error:",e),S(()=>new Error(e))}static \u0275fac=function(e){return new(e||o)(k(z))};static \u0275prov=O({token:o,factory:o.\u0275fac,providedIn:"root"})};function D(o,r){if(o&1&&c(0,"img",28),o&2){let e=p();f("src",e.profile.profilePicture,M)}}function H(o,r){if(o&1){let e=u();t(0,"div",29),c(1,"img",28),t(2,"div",30)(3,"label",31),c(4,"i",32),t(5,"span"),l(6,"Change Photo"),i()(),t(7,"input",33),P("change",function(n){m(e);let d=p();return g(d.onFileSelected(n))}),i()()()}if(o&2){let e=p();a(),f("src",e.imagePreview||e.profile.profilePicture,M)}}function Y(o,r){if(o&1&&(t(0,"h1",34),l(1),i()),o&2){let e=p();a(),x(e.profile.name)}}function J(o,r){if(o&1){let e=u();t(0,"div",35)(1,"input",36),b("ngModelChange",function(n){m(e);let d=p();return h(d.editProfile.name,n)||(d.editProfile.name=n),g(n)}),i()()}if(o&2){let e=p();a(),_("ngModel",e.editProfile.name)}}function q(o,r){if(o&1&&(t(0,"div")(1,"div",37),c(2,"i",38),t(3,"span"),l(4),i()(),t(5,"div",37),c(6,"i",39),t(7,"span"),l(8),i()(),t(9,"div",37),c(10,"i",40),t(11,"span"),l(12),i()(),t(13,"div",37),c(14,"i",41),t(15,"span"),l(16),i()(),t(17,"div",37),c(18,"i",42),t(19,"span"),l(20),i()()()),o&2){let e=p();a(4),x(e.profile.email),a(4),x(e.profile.phone),a(4),x(e.profile.location),a(4),x(e.profile.birthday),a(4),x(e.profile.interests)}}function G(o,r){if(o&1){let e=u();t(0,"div")(1,"div",43)(2,"label",44),l(3,"Email"),i(),t(4,"input",45),b("ngModelChange",function(n){m(e);let d=p();return h(d.editProfile.email,n)||(d.editProfile.email=n),g(n)}),i()(),t(5,"div",43)(6,"label",44),l(7,"Phone"),i(),t(8,"input",46),b("ngModelChange",function(n){m(e);let d=p();return h(d.editProfile.phone,n)||(d.editProfile.phone=n),g(n)}),i()(),t(9,"div",43)(10,"label",44),l(11,"Location"),i(),t(12,"input",47),b("ngModelChange",function(n){m(e);let d=p();return h(d.editProfile.location,n)||(d.editProfile.location=n),g(n)}),i()(),t(13,"div",43)(14,"label",44),l(15,"Birthday"),i(),t(16,"input",47),b("ngModelChange",function(n){m(e);let d=p();return h(d.editProfile.birthday,n)||(d.editProfile.birthday=n),g(n)}),i()(),t(17,"div",43)(18,"label",44),l(19,"Interests"),i(),t(20,"input",47),b("ngModelChange",function(n){m(e);let d=p();return h(d.editProfile.interests,n)||(d.editProfile.interests=n),g(n)}),i()()()}if(o&2){let e=p();a(4),_("ngModel",e.editProfile.email),a(4),_("ngModel",e.editProfile.phone),a(4),_("ngModel",e.editProfile.location),a(4),_("ngModel",e.editProfile.birthday),a(4),_("ngModel",e.editProfile.interests)}}function K(o,r){if(o&1&&(t(0,"p",48),l(1),i()),o&2){let e=p();a(),x(e.profile.bio)}}function Q(o,r){if(o&1){let e=u();t(0,"div")(1,"textarea",49),b("ngModelChange",function(n){m(e);let d=p();return h(d.editProfile.bio,n)||(d.editProfile.bio=n),g(n)}),i()()}if(o&2){let e=p();a(),_("ngModel",e.editProfile.bio)}}function X(o,r){if(o&1){let e=u();t(0,"button",50),P("click",function(){m(e);let n=p();return g(n.toggleEditMode())}),c(1,"i",51),l(2,"Edit Profile "),i()}}function Z(o,r){if(o&1){let e=u();t(0,"button",50),P("click",function(){m(e);let n=p();return g(n.saveProfile())}),c(1,"i",52),l(2,"Save Changes "),i()}}function $(o,r){if(o&1){let e=u();t(0,"button",53),P("click",function(){m(e);let n=p();return g(n.cancelEdit())}),c(1,"i",54),l(2,"Cancel "),i()}}var j=class o{constructor(r,e){this.router=r;this.auth=e}isEditing=!1;profile={name:"Sabrina Carpenter",email:"sabrinacarpet@gmail.com",phone:"+1 (123) 456-7890",location:"New York, USA",birthday:"May 11, 1999",interests:"Music, Theater, Sports",bio:"Passionate about events and connecting people through amazing experiences. Love discovering new events and meeting like-minded individuals.",profilePicture:"pp.jpg"};editProfile=v({},this.profile);selectedFile=null;imagePreview=null;toggleEditMode(){this.isEditing&&(this.editProfile=v({},this.profile),this.selectedFile=null,this.imagePreview=null),this.isEditing=!this.isEditing}saveProfile(){if(this.profile=v({},this.editProfile),this.selectedFile){let r=new FileReader;r.onload=e=>{this.profile.profilePicture=e.target?.result},r.readAsDataURL(this.selectedFile)}this.isEditing=!1,this.selectedFile=null,this.imagePreview=null,console.log("Profile saved:",this.profile)}cancelEdit(){this.editProfile=v({},this.profile),this.selectedFile=null,this.imagePreview=null,this.isEditing=!1}viewAllBookings(){this.router.navigate(["/mybookings"])}onFileSelected(r){let e=r.target.files[0];if(e){if(!e.type.startsWith("image/")){alert("Please select a valid image file.");return}if(e.size>5*1024*1024){alert("File size must be less than 5MB.");return}this.selectedFile=e;let s=new FileReader;s.onload=n=>{this.imagePreview=n.target?.result}}}ngOnInit(){this.auth.getallusers().subscribe({next:r=>{console.log(r)},error:r=>console.error("Error:",r),complete:()=>console.log("Completed")})}static \u0275fac=function(e){return new(e||o)(E(F),E(y))};static \u0275cmp=I({type:o,selectors:[["app-profile"]],standalone:!0,features:[V],decls:60,vars:11,consts:[[1,"profile-section"],[1,"container","py-5"],[1,"profile-header","text-center","mb-5"],[1,"profile-pic-wrapper"],["alt","Profile Picture","class","profile-pic",3,"src",4,"ngIf"],["class","profile-pic-edit",4,"ngIf"],["class","profile-name mt-4",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"row","g-4"],[1,"col-md-6"],[1,"profile-card"],[1,"card-header"],[1,"fas","fa-user","me-2"],[1,"card-body"],[4,"ngIf"],[1,"fas","fa-quote-left","me-2"],["class","bio-text",4,"ngIf"],[1,"col-12"],[1,"fas","fa-ticket-alt","me-2"],[1,"bookings-grid"],[1,"booking-item"],[1,"fas","fa-music","booking-icon"],[1,"booking-details"],[1,"fas","fa-theater-masks","booking-icon"],[1,"fas","fa-football-ball","booking-icon"],[1,"text-center","mt-5"],["class","profile-btn primary-btn me-3",3,"click",4,"ngIf"],["class","profile-btn secondary-btn me-3",3,"click",4,"ngIf"],["alt","Profile Picture",1,"profile-pic",3,"src"],[1,"profile-pic-edit"],[1,"upload-overlay"],["for","profilePictureInput",1,"upload-btn"],[1,"fas","fa-camera"],["type","file","id","profilePictureInput","accept","image/*",2,"display","none",3,"change"],[1,"profile-name","mt-4"],[1,"mt-4"],["type","text","placeholder","Enter your name",1,"form-control","form-control-lg","text-center","mx-auto",2,"max-width","400px",3,"ngModelChange","ngModel"],[1,"info-item"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-birthday-cake"],[1,"fas","fa-heart"],[1,"mb-3"],[1,"form-label","text-muted"],["type","email",1,"form-control",3,"ngModelChange","ngModel"],["type","tel",1,"form-control",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"bio-text"],["rows","4","placeholder","Tell us about yourself...",1,"form-control",3,"ngModelChange","ngModel"],[1,"profile-btn","primary-btn","me-3",3,"click"],[1,"fas","fa-edit","me-2"],[1,"fas","fa-save","me-2"],[1,"profile-btn","secondary-btn","me-3",3,"click"],[1,"fas","fa-times","me-2"]],template:function(e,s){e&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),C(4,D,1,1,"img",4)(5,H,8,1,"div",5),i(),C(6,Y,2,1,"h1",6)(7,J,2,1,"div",7),i(),t(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"h3"),c(13,"i",12),l(14,"About Me"),i()(),t(15,"div",13),C(16,q,21,5,"div",14)(17,G,21,5,"div",14),i()()(),t(18,"div",9)(19,"div",10)(20,"div",11)(21,"h3"),c(22,"i",15),l(23,"Bio"),i()(),t(24,"div",13),C(25,K,2,1,"p",16)(26,Q,2,1,"div",14),i()()(),t(27,"div",17)(28,"div",10)(29,"div",11)(30,"h3"),c(31,"i",18),l(32,"Recent Bookings"),i()(),t(33,"div",13)(34,"div",19)(35,"div",20),c(36,"i",21),t(37,"div",22)(38,"h5"),l(39,"Music Festival"),i(),t(40,"p"),l(41,"July 2025"),i()()(),t(42,"div",20),c(43,"i",23),t(44,"div",22)(45,"h5"),l(46,"Theater Show"),i(),t(47,"p"),l(48,"June 2025"),i()()(),t(49,"div",20),c(50,"i",24),t(51,"div",22)(52,"h5"),l(53,"Sports Event"),i(),t(54,"p"),l(55,"May 2025"),i()()()()()()()(),t(56,"div",25),C(57,X,3,0,"button",26)(58,Z,3,0,"button",26)(59,$,3,0,"button",27),i()()()),e&2&&(a(4),f("ngIf",!s.isEditing),a(),f("ngIf",s.isEditing),a(),f("ngIf",!s.isEditing),a(),f("ngIf",s.isEditing),a(9),f("ngIf",!s.isEditing),a(),f("ngIf",s.isEditing),a(8),f("ngIf",!s.isEditing),a(),f("ngIf",s.isEditing),a(31),f("ngIf",!s.isEditing),a(),f("ngIf",s.isEditing),a(),f("ngIf",s.isEditing))},dependencies:[W,T,L,U,B,A],styles:[".profile-section[_ngcontent-%COMP%]{position:relative;min-height:100vh;padding:80px 0}.profile-header[_ngcontent-%COMP%]{position:relative}.profile-pic-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative}.profile-pic[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%;object-fit:cover;border:5px solid #ffffff;box-shadow:0 8px 24px #0006;transition:transform .3s ease}.profile-pic[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-name[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;color:#000;margin-bottom:0}.profile-tagline[_ngcontent-%COMP%]{color:#ffc908;font-size:1.2rem;font-weight:500;text-shadow:1px 1px 4px rgba(0,0,0,.5);margin-top:8px}.profile-stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:50px;flex-wrap:wrap}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:15px 25px;background:#ffffff1a;backdrop-filter:blur(10px);border-radius:15px;border:2px solid rgba(255,201,8,.3);transition:all .3s ease}.stat-item[_ngcontent-%COMP%]:hover{background:#ffffff26;border-color:#ffc908;transform:translateY(-5px)}.stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#ffc908;text-shadow:1px 1px 4px rgba(0,0,0,.5)}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#000;text-transform:uppercase;letter-spacing:1px;margin-top:5px}.profile-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;overflow:hidden;box-shadow:0 8px 24px #0000004d;transition:transform .3s ease,box-shadow .3s ease;height:100%}.profile-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 32px #0006}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7d0404,#a00505);padding:20px;border-bottom:3px solid #ffc908}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:1.5rem;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:25px}.info-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 0;border-bottom:1px solid #eee;transition:background-color .3s ease}.info-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;padding-left:10px;border-radius:8px}.info-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc908;font-size:1.2rem;width:30px;margin-right:15px}.info-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:1rem}.bio-text[_ngcontent-%COMP%]{color:#555;font-size:1.1rem;line-height:1.8;margin:0}.bookings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.booking-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:12px;border-left:4px solid #ffc908;transition:all .3s ease}.booking-item[_ngcontent-%COMP%]:hover{transform:translate(10px);box-shadow:0 4px 12px #00000026;border-left-width:6px}.booking-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:#7d0404;margin-right:20px}.booking-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333;font-weight:600;margin:0 0 5px;font-size:1.1rem}.booking-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.95rem}.profile-btn[_ngcontent-%COMP%]{padding:14px 32px;font-size:1rem;font-weight:600;border:none;border-radius:30px;text-transform:uppercase;letter-spacing:1px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #0003}.primary-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc908,#ffb700);color:#333}.primary-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffb700,#ffa600);transform:translateY(-3px);box-shadow:0 6px 20px #ffc90866}.secondary-btn[_ngcontent-%COMP%]{background:transparent;color:#000;border:2px solid #000}.secondary-btn[_ngcontent-%COMP%]:hover{background:#000;color:#fff;transform:translateY(-3px);box-shadow:0 6px 20px #0000004d}.profile-pic-edit[_ngcontent-%COMP%]{position:relative;display:inline-block}.upload-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;border-radius:50%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease;cursor:pointer}.profile-pic-edit[_ngcontent-%COMP%]:hover   .upload-overlay[_ngcontent-%COMP%]{opacity:1}.upload-btn[_ngcontent-%COMP%]{color:#000;text-align:center;cursor:pointer;padding:10px;border-radius:8px;transition:background-color .3s ease}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#0000001a}.upload-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:1.5rem;margin-bottom:5px}.upload-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500}"]})};export{j as ProfileComponent};
